<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.example.dao.IGoodsDao">

    
    <select id="purchaseGoogsQueryPage" resultType="java.util.HashMap">
        SELECT
            t1.goods_code as goodsCode,
            IF(t2.limit_count &gt; 0 ,t2.limit_count,t1.balance_count) AS num
        FROM
            warehouse_stock AS t1
                LEFT JOIN online_sale_limit AS t2 ON (t2.warehouse_code = t1.warehouse_code AND t2.goods_code = t1.goods_code)
    </select>


</mapper>
